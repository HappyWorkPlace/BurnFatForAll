<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
    <title>Leaderboard</title>

    <style>
 body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: #f4f4f4;
    overflow-x: hidden; /* ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ã‡πâ‡∏≤‡∏¢‡∏Ç‡∏ß‡∏≤ */
}

.leaderboard {
    width: 100%; /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡πâ‡πÄ‡∏ï‡πá‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á */
    max-width: 600px;
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    margin: 10px; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏Ç‡∏≠‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å */
}

.leaderboard h2 {
    background-color: #3B9097;
    color: white;
    text-align: center;
    margin: 0;
    padding: 15px;
    font-size: 5vw; /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡∏ï‡∏≤‡∏°‡∏Ç‡∏ô‡∏≤‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ */
}

.tabs {
    display: flex;
    justify-content: space-around;
    background-color: #ddd;
    cursor: pointer;
}

.tabs div {
    padding: 10px;
    width: 50%;
    text-align: center;
    background-color: #ddd;
}

.tabs div.active {
    background-color: #3B9097;
    color: white;
}

.leaderboard-content {
    padding: 20px;
    overflow-x: auto; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÉ‡∏ô‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô */
}

.leaderboard-content table {
    width: 100%;
    border-collapse: collapse;
    table-layout: fixed; /* ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ñ‡∏á‡∏ó‡∏µ‡πà */
}

.leaderboard-content th, .leaderboard-content td {
    padding: 10px;
    text-align: left;
    border-bottom: 1px solid #ddd;
    font-size: 4vw; /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡πÉ‡∏´‡πâ‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏ï‡∏≤‡∏°‡∏Ç‡∏ô‡∏≤‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ */
}

.leaderboard-content th {
    background-color: #f6e2bc;
    text-align: center; /* ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á */
}

.leaderboard-content td.rank {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 5px; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏±‡∏ö‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô */
    text-align: center; /* ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á */
}

.leaderboard-content td.rank img {
    width: 4vw; /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏Ç‡∏≠‡∏á‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô */
    height: 4vw;
}

    </style>
</head>
<body>

<div class="leaderboard">
    <h2>Leaderboard</h2>
    <div class="leaderboard-content">
        <table id="leaderboardTable">
            <!-- Content will be injected here by JavaScript -->
        </table>
    </div>
</div>

<script>
    const API_URL = 'https://script.google.com/macros/s/AKfycbzbi7RXlvS1Lm-o15jKjHJQLxGxZtZm9eR19SMq046xe3tU53JxC1eIGCYlwZ3-tBPu/exec';

    async function fetchRankingData() {
        const response = await fetch(API_URL);
        const data = await response.json();
        return data;
    }

    async function renderLeaderboard() {
        const data = await fetchRankingData();
        
        if (data.length === 0) {
            document.getElementById('leaderboardTable').innerHTML = '<tr><td colspan="5">No data available</td></tr>';
            return;
        }

        document.getElementById('leaderboardTable').innerHTML = `
            <tr>
                <th>Rank</th>
                <th>Point</th>
                <th>Name</th>
                <th>Factory</th>
                <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏Å‡∏°</th>
            </tr>
        `;

        data.sort((a, b) => b.point - a.point);

        let previousScore = null;
        let currentRank = 0;
        let displayRank = 0;

        data.forEach((player, index) => {
            if (player.point !== previousScore) {
                displayRank = currentRank + 1;
            }
            currentRank++;
            previousScore = player.point;

            let icon = '';
            if (displayRank === 1) icon = 'ü•á';
            else if (displayRank === 2) icon = 'ü•à';
            else if (displayRank === 3) icon = 'ü•â';

            document.getElementById('leaderboardTable').innerHTML += `
                <tr>
                    <td class="rank"><span>${displayRank}</span> ${icon}</td>
                    <td>${player.point}</td>
                    <td>${player.name}</td>
                    <td>${player.factory}</td>
                    <td>${player.games}</td>
                </tr>
            `;
        });
    }

    renderLeaderboard();
</script>

</body>
</html>
